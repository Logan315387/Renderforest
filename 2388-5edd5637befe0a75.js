"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2388],{58708:function(e,t,o){o.d(t,{F:function(){return l}});var r=o(2265);let l=e=>{let{min:t=0,max:o}="object"==typeof e?e:{max:e},l=(0,r.useCallback)(()=>window.innerWidth,[!0]),i=(0,r.useCallback)(()=>{let e=l();return e>=t&&e<=o},[l,t,o]),[a,n]=(0,r.useState)(i()),s=(0,r.useCallback)(()=>{n(i())},[i,n]);return(0,r.useEffect)(()=>{n(i())},[e,i]),(0,r.useEffect)(()=>(window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)),[!0,s]),a}},45096:function(e,t,o){o.d(t,{Z:function(){return g}});var r=o(57437),l=o(2265),i=o(89183),a=o(47002),n=o(43624);let s="0 0 0 3px ".concat(n._8.semiLight,";"),c=i.styled.div.withConfig({componentId:"sc-fbe321a3-0"})(["position:relative;"]),d=i.styled.input.withConfig({componentId:"sc-fbe321a3-1"})(["width:100%;padding:",";border-radius:8px;font-size:16px;color:",";outline:none;box-sizing:border-box;transition:box-shadow 0.2s;&::placeholder{color:",";}&:hover{box-shadow:",";}&:focus{box-shadow:",";}",""],e=>{let{$hasLargePaddingFromRight:t}=e;return t?"20px 48px 20px 16px":"20px 16px"},n.Vb.extraDark,n.Vb.normal,s,s,e=>{let{$hasError:t}=e;return t?(0,i.css)(["border:1px solid ",";"],n.z_):(0,i.css)(["border:1px solid ",";&:focus{border:1px solid ",";}"],n.Vb.light,n._8.dark)}),p=(0,i.styled)(a.Z).withConfig({componentId:"sc-fbe321a3-2"})(["position:absolute;right:16px;top:50%;transform:translateY(-50%);fill:",";cursor:pointer;&:hover{border-radius:12px;background:",";}"],n.Vb.semiDark,n.Vb.extraLight),u=i.styled.span.withConfig({componentId:"sc-fbe321a3-3"})(["position:absolute;left:0;bottom:-20px;font-size:12px;font-weight:500;line-height:12px;color:",";"],n.z_);var g=(0,l.memo)(e=>{let{value:t,placeholder:o,errorMessage:l,onChange:i,onClear:a,onBlur:n,onKeyDown:s,...g}=e,j=!!(t&&a);return(0,r.jsxs)(c,{...g,children:[(0,r.jsx)(d,{value:t,placeholder:o,$hasError:!!l,$hasLargePaddingFromRight:j,onChange:i,onBlur:n,onKeyDown:s}),j?(0,r.jsx)(p,{onClick:a}):null,l?(0,r.jsx)(u,{className:"error-message",children:l}):null]})})},64784:function(e,t,o){o.d(t,{Z:function(){return p}});var r=o(57437),l=o(2265),i=o(54887),a=o(95127),n=o(80497),s=o(64295);let c={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},d={initial:{opacity:0,scale:.5,translateX:"-50%",translateY:"-50%"},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.3}}};var p=(0,l.memo)(e=>{let{isOpen:t,children:o,onClose:l,...p}=e;return n.kc?document.body&&(0,i.createPortal)((0,r.jsx)(a.M,{children:t?(0,r.jsxs)(s.kZ,{...c,...p,children:[(0,r.jsx)(s.b8,{onClick:l}),(0,r.jsxs)(s.pP,{...d,className:"popup-content",children:[l&&(0,r.jsx)(s.Tw,{onClick:l}),o]})]}):null}),document.body):null})},64295:function(e,t,o){o.d(t,{Tw:function(){return c},b8:function(){return d},kZ:function(){return n},pP:function(){return s}});var r=o(89183),l=o(66765),i=o(47002),a=o(43624);let n=(0,r.styled)(l.E.div).withConfig({componentId:"sc-c9c9bf74-0"})(["width:100%;height:100%;position:fixed;top:0;left:0;z-index:9999;"]),s=(0,r.styled)(l.E.div).withConfig({componentId:"sc-c9c9bf74-1"})(["position:absolute;top:50%;left:50%;max-height:90%;max-width:90%;box-sizing:border-box;display:flex;flex-direction:column;background-color:",";padding:32px;border-radius:15px;"],a.Cj),c=(0,r.styled)(i.Z).withConfig({componentId:"sc-c9c9bf74-2"})(["position:absolute;padding:4px;fill:",";top:8px;right:8px;z-index:1;cursor:pointer;transition:fill 0.3s;&:hover{fill:",";}"],a.Vb.normal,a.E5),d=r.styled.div.withConfig({componentId:"sc-c9c9bf74-3"})(["width:100%;height:100%;position:absolute;left:0;top:0;background-color:rgba(0,0,0,0.5);"])},60139:function(e,t,o){o.d(t,{Z:function(){return P}});var r=o(57437),l=o(2265),i=o(54887),a=o(95127);let n="left",s="right",c="bottom",d={x:-1e3,y:-1e3};var p=o(89183),u=o(66765),g=o(43624);let j="7px solid ".concat(g.Vb.extraDark,";"),f="7px solid transparent",h=(0,p.styled)(u.E.div).withConfig({componentId:"sc-d8533256-0"})(["max-width:250px;position:fixed;z-index:9999;color:",";font-size:12px;border-radius:8px;padding:8px;background-color:",";box-sizing:border-box;line-height:20px;overflow-wrap:break-word;"," .triangle{position:absolute;width:0;height:0;border-style:solid;","}"],g.Cj,g.Vb.extraDark,e=>{let{coords:{x:t,y:o}}=e;return(0,p.css)(["left:","px;top:","px;"],t,o)},e=>{let{position:t}=e;switch(t){case"top":return(0,p.css)(["bottom:0;left:50%;transform:translate(-50%,100%);border-left:",";border-right:",";border-top:",";"],f,f,j);case c:return(0,p.css)(["top:0;left:50%;transform:translate(-50%,-100%);border-left:",";border-right:",";border-bottom:",";"],f,f,j);case n:return(0,p.css)(["right:0;top:50%;transform:translate(100%,-50%);border-top:",";border-bottom:",";border-left:",";"],f,f,j);case s:return(0,p.css)(["left:0;top:50%;transform:translate(-100%,-50%);border-top:",";border-bottom:",";border-right:",";"],f,f,j);default:return""}}),y=(e,t,o)=>{if(!e.current||!t.current)return{...d,position:o};let{left:r,right:l,top:i,width:a,height:p}=t.current.children[0].getBoundingClientRect(),{width:u,height:g}=e.current.getBoundingClientRect(),{left:j,right:f,top:h,bottom:y}=document.body.getBoundingClientRect(),P=r-u/2+a/2,m=i-g/2+p/2,b=e=>r-j>=e+10-P,I=e=>f-P>=e+10,x=i-h>=g+10&&b(u/2)&&I(u/2),v=y-i>=g+10&&b(u/2)&&I(u/2),L=[o,n,s,"top",c].filter(e=>{switch(e){case"top":return x;case n:return b(u);case s:return I(u);case c:return v;default:return!1}})[0]||o,D={top:{x:P,y:i-g-10},[c]:{x:P,y:i+p+10},[n]:{x:r-u-10,y:m},[s]:{x:l+10,y:m}};return{x:D[L].x,y:D[L].y,position:L}};var P=(0,l.memo)(e=>{let{children:t,tooltipText:o,position:n="top",...s}=e,[c,p]=(0,l.useState)(!1),[u,g]=(0,l.useState)(d),[j,f]=(0,l.useState)(n),P=(0,l.useRef)(null),m=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(!c)return;let{x:e,y:t,position:o}=y(m,P,n);g({x:e,y:t}),f(o)},[c,m,P,n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:P,onMouseEnter:()=>{p(!0)},onMouseLeave:()=>{p(!1)},children:t}),c&&o?(0,i.createPortal)((0,r.jsx)(a.M,{children:(0,r.jsxs)(h,{ref:m,position:j,coords:u,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},...s,children:[o,(0,r.jsx)("div",{className:"triangle"})]})}),document.body):null]})})},39095:function(e,t,o){o.d(t,{F:function(){return j}});var r=o(13e3),l=o(31594),i=o(99850);let a=(e,t)=>{e(e=>({...e,payload:{...e.payload,imageProjects:t(e.payload.imageProjects)}}))},n=(e,t)=>function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{isLoading:r,payload:i}=t();r||e({isLoading:!0});let n=i.imageProjects.length;(0,l.Dd)({search:o,offset:n,limit:20}).then(t=>{let{data:o}=t;a(e,e=>n?[...e,...o.imageProjects]:o.imageProjects),e(e=>({...e,payload:{...e.payload,totalCount:o.totalCount}}))}).catch(e=>console.error("Failed to fetch AI Images projects:",e)).finally(()=>e(e=>({...e,isLoading:!1})))},s=(e,t)=>{a(e,e=>e.map(e=>{let o=e.images.map(e=>e.id===t.imageId?{...e,filePath:t.filePath,thumbnailPath:t.thumbnailPath,status:"success"}:e);return{...e,images:o}}))},c=(e,t)=>{a(e,e=>e.reduce((e,o)=>{let r=o.images.filter(e=>e.id!==t.imageId);return r.length>0&&e.push({...o,images:r}),e},[]))},d=e=>t=>{t.error?c(e,t):s(e,t)},p=e=>t=>{e({deletingAiImagesProjectId:t})},u=e=>t=>{e({deletingAiImagesProjectId:t}),(0,l.DA)(t).then(()=>{a(e,e=>e.filter(e=>!e.images.some(e=>e.id===t))),e(e=>({...e,payload:{...e.payload,totalCount:Math.max(0,e.payload.totalCount-1)}}))}).catch(e=>{console.error("Failed to delete AI Image project:",e),i.g.getState().setErrorPopupData({type:"CUSTOM_API_ERROR",description:e.message||"Failed to delete project"})}).finally(()=>{e({deletingAiImagesProjectId:null})})},g={isLoading:!0,payload:{imageProjects:[],totalCount:0},deletingAiImagesProjectId:null,selectedAiImagesProjects:[]},j=(0,r.Ue)((e,t)=>({...g,fetchAiImagesProjects:n(e,t),handleAiImageGenerated:d(e),deleteAiImageProject:u(e),setDeletingProjectId:p(e)}))},66928:function(e,t,o){o.d(t,{I:function(){return L}});var r=o(13e3),l=o(52844),i=o(31594),a=o(80497),n=o(77139),s=o(99850),c=o(55952),d=o(98764);let p=(e,t)=>{e(e=>(e.payload.projects=t(e.payload.projects),e))},u=(e,t)=>o=>{let{search:r="",limit:l=a.Pv,offset:n}=o,{isLoading:s,payload:c}=t();s||e({isLoading:!0});let d=null!=n?n:c.projects.length;d&&d>=c.totalCount||(0,i.I8)({search:r,limit:l,offset:d}).then(t=>{let{data:o}=t;p(e,e=>d?[...e,...o.projects]:o.projects),e(e=>(e.payload.totalCount=o.totalCount,e))}).catch(e=>console.error("Failed to fetch projects:",e)).finally(()=>e({isLoading:!1}))},g=e=>()=>{e({isLoading:!0,payload:{projects:[],totalCount:0}})},j=e=>()=>{e({selectedDesignProjects:[]})},f=e=>(t,o)=>{(0,i.ly)(t,{name:o}).then(o=>{let{data:r}=o;p(e,e=>e.map(e=>e.id===t?{...e,name:r.name}:e))}).catch(e=>console.error("Failed to rename project:",e))},h=(e,t)=>(o,r)=>{let l=t().payload.projects;p(e,e=>e.filter(e=>!o.succeeded.includes(e.id))),l.length<a.Pv&&(g(e)(),u(e,t)({offset:0,search:r}))},y=(e,t)=>(o,r)=>{e({deletingDesignProjectId:o}),(0,i.un)({projectIds:[o]}).then(o=>{let{data:l}=o;h(e,t)(l,r)}).catch(e=>console.error("Failed to delete projects:",e)).finally(()=>{j(e)(),e({deletingDesignProjectId:null})})},P=(e,t)=>(o,r)=>{let{setBulkDeleteLoadingVisible:l,resetBulkDeleteLoadingVisible:a,setSuccessfullyDeletedItemsCount:s}=n.b.getState();l(),(0,i.un)({projectIds:o}).then(o=>{let{data:l}=o;h(e,t)(l,r),s(l.succeeded.length)}).catch(e=>console.error("Failed to delete projects:",e)).finally(()=>{j(e)(),a()})},m=e=>t=>{e({isProjectDuplicating:!0}),(0,i.F1)(t).then(t=>{let{data:o}=t;p(e,e=>[o,...e])}).catch(e=>{let{status:t,code:o,meta:r}=e.cause||{};409===t&&"Conflict"===o&&r&&s.g.getState().setErrorPopupData({type:c.d.DESIGN_DUPLICATE_ERROR,additionalData:{projectDuplicationLimit:r.draftLimit}})}).finally(()=>e({isProjectDuplicating:!1}))},b=e=>t=>{e(e=>{let o=e.selectedDesignProjects;return{selectedDesignProjects:o.includes(t)?o.filter(e=>e!==t):[...o,t]}})},I=e=>t=>{(0,i.cV)(t).then(o=>{let{data:r}=o;p(e,e=>e.map(e=>e.id===t?r:e))})},x=(e,t)=>o=>{let{gm_project_id:r}=o;t().payload.projects.find(e=>e.id===r)&&p(e,e=>e.map(e=>e.id===r?{...e,designExportingProgress:o}:e)),o.state===d.h.FINISHED&&I(e)(r)},v={isLoading:!0,payload:{projects:[],totalCount:0},deletingDesignProjectId:null,isProjectDuplicating:!1,selectedDesignProjects:[]},L=(0,r.Ue)((0,l.n)((e,t)=>({...v,fetchDesignProjects:u(e,t),resetDesignProjects:g(e),renameDesignProject:f(e),deleteDesignProject:y(e,t),deleteDesignProjects:P(e,t),duplicateDesignProject:m(e),selectDesignProject:b(e),reselectAllDesignProjects:j(e),updateDesignExportingProgress:x(e,t)})))},97605:function(e,t,o){o.d(t,{z:function(){return I}});var r=o(13e3),l=o(31594),i=o(80497),a=o(77139),n=o(3151);let s=(e,t)=>{e(e=>{let o=t(e.payload.projects);return{payload:{...e.payload,projects:o}}})},c=(e,t)=>o=>{let{search:r="",limit:a=i.Pv,offset:n}=o,{isLoading:c,payload:d}=t();c||e({isLoading:!0});let p=null!=n?n:d.projects.length;p&&p>=d.totalCount||(0,l.j3)({search:r,limit:a,offset:p}).then(t=>{let{data:o}=t;s(e,e=>p?[...e,...o.projects]:o.projects),e(e=>({...e,payload:{...e.payload,totalCount:o.totalCount}}))}).catch(e=>console.error("Failed to fetch projects:",e)).finally(()=>e(e=>({...e,isLoading:!1})))},d=e=>()=>{e({isLoading:!0,payload:{projects:[],totalCount:0}})},p=e=>()=>{e({selectedLogoProjects:[]})},u=e=>(t,o)=>{(0,l.QW)(t,{name:o}).then(o=>{let{data:r}=o;s(e,e=>e.map(e=>e.id===t?{...e,name:r.name}:e))}).catch(e=>console.error("Failed to rename project:",e))},g=(e,t)=>(o,r)=>{let l=t().payload.projects;s(e,e=>e.filter(e=>!o.succeeded.includes(e.id))),l.length<i.Pv&&(d(e)(),c(e,t)({offset:0,search:r}))},j=(e,t)=>(o,r)=>{e({deletingLogoProjectId:o}),(0,l.s$)({projectIds:[o]}).then(o=>{let{data:l}=o;g(e,t)(l,r)}).catch(e=>console.error("Failed to delete projects:",e)).finally(()=>{p(e)(),e({deletingLogoProjectId:null})})},f=(e,t)=>(o,r)=>{let{setBulkDeleteLoadingVisible:i,resetBulkDeleteLoadingVisible:n,setSuccessfullyDeletedItemsCount:s}=a.b.getState();i(),(0,l.s$)({projectIds:o}).then(o=>{let{data:l}=o;g(e,t)(l,r),s(l.succeeded.length)}).catch(e=>console.error("Failed to delete projects:",e)).finally(()=>{p(e)(),n()})},h=e=>t=>{e({isProjectDuplicating:!0}),(0,l.h9)(t).then(t=>{let{data:o}=t;s(e,e=>[o,...e])}).catch(e=>console.error("Failed to duplicate project:",e)).finally(()=>e({isProjectDuplicating:!1}))},y=e=>t=>{e(e=>{let o=e.selectedLogoProjects;return{selectedLogoProjects:o.includes(t)?o.filter(e=>e!==t):[...o,t]}})},P=e=>t=>{(0,l.ZZ)(t).then(o=>{let{data:r}=o;s(e,e=>e.map(e=>e.id===t?r:e))})},m=(e,t)=>o=>{let{logo_project_id:r}=o;t().payload.projects.find(e=>e.id===r)&&s(e,e=>e.map(e=>e.id===r?{...e,logoExportingProgress:o}:e)),o.state===n.v.FINISH&&P(e)(r)},b={isLoading:!0,payload:{projects:[],totalCount:0},deletingLogoProjectId:null,isProjectDuplicating:!1,selectedLogoProjects:[]},I=(0,r.Ue)((e,t)=>({...b,fetchLogoProjects:c(e,t),resetLogoProjects:d(e),renameLogoProject:u(e),deleteLogoProject:j(e,t),deleteLogoProjects:f(e,t),duplicateLogoProject:h(e),selectLogoProject:y(e),reselectAllLogoProjects:p(e),updateLogoExportingProgress:m(e,t)}))},28998:function(e,t,o){o.d(t,{o:function(){return b}});var r=o(13e3),l=o(52844),i=o(31594),a=o(80497),n=o(77139),s=o(24229);let c=(e,t)=>function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t().isLoading,l=t().payload.projects.length,n={search:o,offset:l||void 0,limit:a.Pv};r||e({isLoading:!0}),(0,i.tP)(n).then(t=>{let{data:o,totalCount:r}=t;e(e=>({payload:{projects:l?e.payload.projects.concat(o):o,totalCount:null!=r?r:0}}))}).finally(()=>{e({isLoading:!1})})},d=e=>()=>{e({isLoading:!0,payload:{projects:[],totalCount:0}})},p=e=>t=>{e(e=>({selectedMockupProjects:e.selectedMockupProjects.includes(t)?e.selectedMockupProjects.filter(e=>e!==t):[...e.selectedMockupProjects,t]}))},u=e=>()=>{e({selectedMockupProjects:[]})},g=e=>(t,o)=>{(0,i.kb)(t,{title:o}).then(()=>{e(e=>{let r=e.payload.projects.map(e=>e.id===t?{...e,name:o}:e);return{payload:{...e.payload,projects:r}}})}).catch(e=>console.error("Failed to rename project:",e))},j=(e,t)=>(o,r)=>{let l=t().payload.projects;e(e=>{let t=e.payload.projects.filter(e=>!o.succeeded.includes(e.id));return{payload:{...e.payload,projects:t}}}),l.length<a.Pv&&(d(e)(),c(e,t)(r))},f=(e,t)=>(o,r)=>{let{setBulkDeleteLoadingVisible:l,resetBulkDeleteLoadingVisible:a,setSuccessfullyDeletedItemsCount:s}=n.b.getState();l(),(0,i.QC)(o).then(o=>{let{data:l}=o;j(e,t)(l,r),s(l.succeeded.length)}).catch(e=>console.error("Failed to delete projects:",e)).finally(()=>{u(e)(),a()})},h=(e,t)=>(o,r)=>{e({deletingMockupProjectId:o}),(0,i.QC)({projectIds:[o]}).then(o=>{let{data:l}=o;j(e,t)(l,r)}).catch(e=>console.error("Failed to delete projects:",e)).finally(()=>{e({deletingMockupProjectId:null})})},y=e=>t=>(0,i.Nx)(t).then(o=>{let{data:r}=o;e(e=>{let o=e.payload.projects.map(e=>e.id===t?r:e);return{payload:{...e.payload,projects:o}}})}),P=(e,t)=>o=>{let{mockup_project_id:r}=o,l=t().payload.projects.find(e=>e.id===r);l&&e(e=>{let t=e.payload.projects.map(e=>e.id===l.id?{...e,mockupRenderingProgress:o}:e);return{payload:{...e.payload,projects:t}}}),(o.state===s.M.FINISHED||o.state===s.M.ERROR)&&y(e)(r)},m={isLoading:!0,payload:{projects:[],totalCount:0},selectedMockupProjects:[],deletingMockupProjectId:null},b=(0,r.Ue)((0,l.n)((e,t)=>({...m,fetchMockupProjects:c(e,t),resetMockupProjects:d(e),selectMockupProject:p(e),reselectAllMockupProjects:u(e),deleteMockupProjects:f(e,t),deleteMockupProject:h(e,t),renameMockupProject:g(e),updateMockupRenderingProgress:P(e,t)})))},77139:function(e,t,o){o.d(t,{b:function(){return d}});var r=o(13e3);let l=(e,t)=>e(e=>({...e,bulkDeleteLoading:{...e.bulkDeleteLoading,...t}})),i=e=>()=>l(e,{isVisible:!0}),a=e=>()=>l(e,{isVisible:!1}),n=e=>t=>l(e,{succesfullyDeletedItemsCount:t}),s=e=>()=>l(e,{succesfullyDeletedItemsCount:0}),c={bulkDeleteLoading:{isVisible:!1,succesfullyDeletedItemsCount:0}},d=(0,r.Ue)(e=>({...c,setBulkDeleteLoadingVisible:i(e),resetBulkDeleteLoadingVisible:a(e),setSuccessfullyDeletedItemsCount:n(e),resetSuccessfullyDeletedItemsCount:s(e)}))},56929:function(e,t,o){o.d(t,{$:function(){return h}});var r=o(13e3),l=o(52844),i=o(31594),a=o(54888),n=o(80497);let s=e=>()=>e(e=>({...e,websites:[],totalCount:0})),c=(e,t)=>o=>{let{excludedTariffPlanId:r,searchStr:l="",offset:a}=o,{websites:c}=t(),d={offset:a,search:l,limit:n.Pv,excludedTariffPlanId:r};e({isWebsitesLoading:!0}),a||s(e)(),(0,i.Zi)(d).then(t=>{let{data:o,totalCount:r}=t;e(e=>({...e,websites:a?c.concat(o):o,totalCount:null!=r?r:0}))}).finally(()=>e({isWebsitesLoading:!1}))},d=e=>t=>{let o=a.w.getState().payload,r=null==o?void 0:o.find(e=>{let{id:o}=e;return o===t.tariffPlanId});e(e=>({...e,currentWebsiteData:{...t,tariffPlanTitle:(null==r?void 0:r.title)||""}}))},p=e=>()=>e(e=>({...e,currentWebsiteData:{}})),u=e=>t=>e(e=>({...e,isSuccess:t})),g=e=>t=>e({isLoading:t}),j=e=>t=>e({isOpenFromMyWebsites:t}),f={currentWebsiteData:{},isLoading:!1,isSuccess:!1,isOpenFromMyWebsites:!1,isWebsitesLoading:!1,websites:[],totalCount:0},h=(0,r.Ue)((0,l.n)((e,t)=>({...f,openReassignPlanPopup:d(e),closeReassignPlanPopup:p(e),fetchWebsitesList:c(e,t),setSuccessState:u(e),setReassignLoadingState:g(e),resetWebsitesList:s(e),setIsOpenFromMyWebsites:j(e)})))},54888:function(e,t,o){o.d(t,{w:function(){return n}});var r=o(13e3),l=o(31594);let i=e=>()=>{e({isLoading:!0}),(0,l.mt)().then(t=>{let{data:o}=t;e({isLoading:!1,payload:o})}).finally(()=>{e({isLoading:!1})})},a={isLoading:!1,payload:null},n=(0,r.Ue)(e=>({...a,fetchSubscriptions:i(e)}))},46804:function(e,t,o){o.d(t,{L:function(){return s}});var r=o(13e3),l=o(31594);let i=(e,t)=>()=>{let{isLoading:o}=t();o||(e({isLoading:!0}),(0,l.XF)().then(t=>{let{data:o}=t;e({isLoading:!1,payload:o})}).finally(()=>{e({isLoading:!1})}))},a=e=>()=>{e(e=>{var t;let o=(null===(t=e.payload)||void 0===t?void 0:t.siteLimit)||0;return{...e,payload:{...e.payload,siteLimit:o-1}}})},n={isLoading:!1},s=(0,r.Ue)((e,t)=>({...n,fetchUser:i(e,t),subtractUserSiteLimit:a(e)}))},9429:function(e,t,o){o.d(t,{t:function(){return v}});var r=o(13e3),l=o(52844),i=o(31594),a=o(80497),n=o(77139),s=o(16988);let c=(e,t)=>function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t().isLoading,l=t().payload.projects.length,n={search:o,offset:l||void 0,limit:a.Pv};r||e({isLoading:!0}),(0,i.EO)(n).then(t=>{let{data:o,totalCount:r}=t;e(e=>({payload:{projects:l?e.payload.projects.concat(o):o,totalCount:null!=r?r:0}}))}).finally(()=>{e({isLoading:!1})})},d=e=>()=>{e({isLoading:!0,payload:{projects:[],totalCount:0}})},p=e=>t=>{e(e=>({selectedVideoProjects:e.selectedVideoProjects.includes(t)?e.selectedVideoProjects.filter(e=>e!==t):[...e.selectedVideoProjects,t]}))},u=e=>()=>{e({selectedVideoProjects:[]})},g=(e,t)=>async(o,r)=>{try{let l=t().payload.projects.find(e=>e.id===o);if((null==l?void 0:l.product)==="video"){let{data:t}=await (0,i.EQ)(o,{customTitle:r});e(e=>{let r=e.payload.projects.map(e=>e.id===o?{...e,title:t.name,customTitle:t.name}:e);return{payload:{...e.payload,projects:r}}})}else{let{data:t}=await (0,i.w$)(o,{name:r});e(e=>{let r=e.payload.projects.map(e=>e.id===o?{...e,title:t.name}:e);return{payload:{...e.payload,projects:r}}})}}catch(e){console.error("Failed to rename project:",e)}},j=e=>(0,i.CP)(e).then(e=>{let{data:t}=e;return{...t,product:"video",thumbnail:t.projectThumbnail||t.previewThumbnail||t.templateThumbnail||""}}),f=e=>(0,i.af)(e).then(e=>{let{data:t}=e;return{...t,product:"video_project",title:t.name||""}}),h=(e,t)=>async o=>{try{let r=t().payload.projects.find(e=>e.id===o),l=(null==r?void 0:r.product)==="video"?await j(o):await f(o);e(e=>{let t=[l,...e.payload.projects];return{payload:{...e.payload,projects:t}}})}catch(e){console.error("Failed to duplicate project:",e)}},y=e=>(t,o)=>("video"===o?(0,i.Wx)(t):(0,i.ZH)(t)).then(r=>{let{data:l}=r;e(e=>{l.product=o;let r=e.payload.projects.map(e=>e.id===t?l:e);return{payload:{...e.payload,projects:r}}})}),P=(e,t)=>(o,r)=>{let l=t().payload.projects;e(e=>{let t=e.payload.projects.filter(e=>!o.succeeded.includes(e.id));return{payload:{...e.payload,projects:t}}}),l.length<a.Pv&&(d(e)(),c(e,t)(r))},m=(e,t)=>async(o,r)=>{let{projectIds:l}=o,{setBulkDeleteLoadingVisible:a,resetBulkDeleteLoadingVisible:s,setSuccessfullyDeletedItemsCount:c}=n.b.getState();a();try{let o=t().payload.projects,a=l.filter(e=>{var t;return(null===(t=o.find(t=>t.id===e))||void 0===t?void 0:t.product)==="video"}),n=l.filter(e=>{var t;return(null===(t=o.find(t=>t.id===e))||void 0===t?void 0:t.product)==="video_project"}),s=[];a.length>0&&s.push((0,i.uE)(a)),n.length>0&&s.push((0,i.AP)(n));let d=(await Promise.all(s)).flatMap(e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.succeeded)||[]});P(e,t)({succeeded:d},r),c(d.length)}catch(e){console.error("Failed to delete projects:",e)}finally{u(e)(),s()}},b=(e,t)=>async(o,r)=>{e({deletingVideoProjectId:o});try{let l=t().payload.projects.find(e=>e.id===o);if((null==l?void 0:l.product)==="video"){let{data:l}=await (0,i.uE)([o]);P(e,t)(l,r)}else if((null==l?void 0:l.product)==="video_project"){let{data:l}=await (0,i.AP)([o]);P(e,t)(l,r)}}catch(e){console.error("Failed to delete project:",e)}finally{e({deletingVideoProjectId:null})}},I=(e,t)=>o=>{let{projectId:r}=o,l=t().payload.projects.find(e=>e.id===r);if(l&&e(e=>{let t=e.payload.projects.map(e=>e.id===l.id?{...e,renderingProgress:o}:e);return{payload:{...e.payload,projects:t}}}),o.state===s.Ke.RENDED){let t="type"in o&&"video_project"===o.type?"video_project":"video";y(e)(r,t)}},x={isLoading:!0,payload:{projects:[],totalCount:0},selectedVideoProjects:[],deletingVideoProjectId:null},v=(0,r.Ue)((0,l.n)((e,t)=>({...x,fetchVideoProjects:c(e,t),resetVideoProjects:d(e),selectVideoProject:p(e),reselectAllVideoProjects:u(e),deleteVideoProjects:m(e,t),deleteVideoProject:b(e,t),duplicateVideoProject:h(e,t),renameVideoProject:g(e,t),updateVideoRenderingProgress:I(e,t)})))},3844:function(e,t,o){o.d(t,{t:function(){return D}});var r=o(13e3),l=o(52844),i=o(80497),a=o(31594),n=o(77139),s=o(72398),c=o(56929),d=o(46804);let p=(e,t)=>function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{isLoading:r,payload:l}=t(),n=l.projects.length,s={search:o,offset:n||void 0,limit:i.Pv};r||e({isLoading:!0}),(0,a.Zi)(s).then(t=>{let{data:o,totalCount:r}=t;e(e=>({payload:{projects:n?e.payload.projects.concat(o):o,totalCount:null!=r?r:0}}))}).finally(()=>e({isLoading:!1}))},u=e=>()=>{e({isLoading:!0,payload:{projects:[],totalCount:0}})},g=e=>t=>{e(e=>{let o=e.selectedWebsiteProjects;return{selectedWebsiteProjects:o.includes(t)?o.filter(e=>e!==t):[...o,t]}})},j=e=>()=>{e({selectedWebsiteProjects:[]})},f=e=>(t,o)=>{(0,a.fo)(t,{name:o}).then(o=>{let{data:r}=o;e(e=>{let o=e.payload.projects.map(e=>e.id===t?{...e,name:r.name}:e);return{payload:{...e.payload,projects:o}}})}).catch(e=>console.error("Failed to rename project:",e))},h=e=>t=>{e({isProjectDuplicating:!0}),(0,a.R5)(t).then(t=>{let{data:o}=t;e(e=>{let t=[o,...e.payload.projects];return{payload:{...e.payload,projects:t}}})}).catch(e=>console.error("Failed to duplicate project:",e)).finally(()=>e({isProjectDuplicating:!1}))},y=(e,t)=>(o,r)=>{let l=t().payload.projects;e(e=>{let t=e.payload.projects.filter(e=>!o.succeeded.includes(e.id));return{payload:{...e.payload,projects:t}}}),l.length<i.Pv&&(u(e)(),p(e,t)(r))},P=(e,t)=>(o,r)=>{e({deletingWebsiteProjectId:o}),(0,a.td)({siteIds:[o]}).then(o=>{let{data:l}=o;y(e,t)(l,r)}).catch(e=>console.error("Failed to delete projects:",e)).finally(()=>{e({deletingWebsiteProjectId:null})})},m=(e,t)=>(o,r)=>{let{setBulkDeleteLoadingVisible:l,resetBulkDeleteLoadingVisible:i,setSuccessfullyDeletedItemsCount:s}=n.b.getState();l(),(0,a.td)({siteIds:o}).then(o=>{let{data:l}=o;y(e,t)(l,r),s(l.succeeded.length)}).catch(e=>console.error("Failed to delete projects:",e)).finally(()=>{j(e)(),i()})},b=(e,t)=>o=>{let{siteId:r}=o;t().payload.projects.find(e=>e.id===r)&&e(e=>{let t=e.payload.projects.map(e=>e.id===r?{...e,websiteExportingProgress:o}:e);return{payload:{...e.payload,projects:t}}}),o.state===s.V.FINISHED&&(0,a.Vu)(r).then(t=>{let{data:o}=t;e(e=>{let t=e.payload.projects.map(e=>e.id===r?o:e);return{payload:{...e.payload,projects:t}}})})},I=e=>(t,o)=>{e(e=>{let r=e.payload.projects.map(e=>e.id===t?{...e,tariffPlanId:o,paid:!!o,siteUrl:o?e.siteUrl:"",state:o?e.state:null,domain:o?e.domain:""}:e);return{payload:{...e.payload,projects:r}}})},x=e=>(t,o)=>{c.$.getState().setReassignLoadingState(!0);let{projectId:r,tariffPlanId:l}=t,{projectId:i,tariffPlanId:n}=o;(0,a.SS)(r,i).then(()=>{c.$.getState().setSuccessState(!0),I(e)(i,l),I(e)(r,n)}).finally(()=>c.$.getState().setReassignLoadingState(!1))},v=e=>t=>{(0,a.a6)(t).then(o=>{let{data:r}=o;e(e=>{let o=e.payload.projects.map(e=>e.id===t?r:e);return{payload:{...e.payload,projects:o}}}),d.L.getState().subtractUserSiteLimit()})},L={isLoading:!0,payload:{projects:[],totalCount:0},deletingWebsiteProjectId:null,isProjectDuplicating:!1,selectedWebsiteProjects:[]},D=(0,r.Ue)((0,l.n)((e,t)=>({...L,fetchWebsiteProjects:p(e,t),resetWebsiteProjects:u(e),renameWebsiteProject:f(e),deleteWebsiteProject:P(e,t),deleteWebsiteProjects:m(e,t),duplicateWebsiteProject:h(e),selectWebsiteProject:g(e),reselectAllWebsiteProjects:j(e),updateWebsiteExportingProgress:b(e,t),reassignWebsitePlan:x(e),assignWebsitePlan:v(e)})))},98764:function(e,t,o){var r,l;o.d(t,{h:function(){return r}}),(l=r||(r={})).EXPORTED="exported",l.EXPORTING="exporting",l.FINISHED="finished",l.ERROR="error"},3151:function(e,t,o){var r,l;o.d(t,{v:function(){return r}}),(l=r||(r={})).EXPORTED="exported",l.EXPORTING="exporting",l.FINISH="finish",l.ERROR="error"},24229:function(e,t,o){var r,l;o.d(t,{M:function(){return r}}),(l=r||(r={})).PREPARING_MOCKUP="preparing_mockup",l.FETCHING_DATA="fetching_data",l.CROPPING_IMAGES="cropping_images",l.APPLYING_COLORS="applying_colors",l.GENERATING_OUTPUT="generating_output",l.FINISHED="finished",l.ERROR="error"},16988:function(e,t,o){var r,l,i,a,n,s;o.d(t,{Bk:function(){return i},Ke:function(){return r},Kw:function(){return l}}),(a=r||(r={})).PREPARING="preparing",a.MEDIA_READY="media_ready",a.TEMPLATE_PREPARING="template_preparing",a.RENDING="rending",a.RENDED="rended",a.CONCATING="concating",a.UPLOADING="uploading",a.RENDED_SCREEN="rended_screen",a.PREVIEW_CONCATED="preview_concated",(n=l||(l={})).OK="ok",n.ERROR="error",n.PENDING="pending",n.REND="rend",(s=i||(i={})).OK="ok",s.FAILED="failed",s.PENDING="pending",s.RENDING="rending"},72398:function(e,t,o){var r,l;o.d(t,{V:function(){return r}}),(l=r||(r={})).EXPORTED="exported",l.EXPORTING="exporting",l.FINISHED="finished",l.ERROR="error"}}]);